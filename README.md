# è™šå¹»å¼•æ“æ–‡æ¡£ MCP æœåŠ¡å™¨

è¿™ä¸ªé¡¹ç›®æä¾›è™šå¹»å¼•æ“å®˜æ–¹æ–‡æ¡£çš„ MCPï¼ˆModel Context Protocolï¼‰æœåŠ¡å™¨ï¼Œæ”¯æŒæ™ºèƒ½æœç´¢å’Œæ–‡æ¡£è®¿é—®åŠŸèƒ½ã€‚

## é¡¹ç›®èƒŒæ™¯

è™šå¹»å¼•æ“å®˜æ–¹æ–‡æ¡£ç½‘ç«™ä½¿ç”¨åŠ¨æ€åŠ è½½çš„å¯¼èˆªèœå•ï¼Œåªæœ‰ç‚¹å‡»å±•å¼€æŒ‰é’®æ‰èƒ½æ˜¾ç¤ºå­èœå•é¡¹ã€‚ä¼ ç»Ÿçš„é™æ€HTMLæŠ“å–åªèƒ½è·å–åˆ°ç¬¬ä¸€å±‚çš„å¯¼èˆªé“¾æ¥ï¼Œæ— æ³•è·å–å®Œæ•´çš„æ–‡æ¡£ç»“æ„ã€‚

## è§£å†³æ–¹æ¡ˆ

æœ¬é¡¹ç›®ä½¿ç”¨æ— å¤´æµè§ˆå™¨(Puppeteer)æ¥æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼Œè‡ªåŠ¨ç‚¹å‡»æ‰€æœ‰å¯å±•å¼€çš„èœå•é¡¹ï¼Œè·å–å®Œæ•´çš„å¯¼èˆªç»“æ„ï¼Œå¹¶æŠ“å–æ¯ä¸ªé¡µé¢çš„æè¿°ä¿¡æ¯ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¤– **è‡ªåŠ¨åŒ–å±•å¼€**: ä½¿ç”¨æ— å¤´æµè§ˆå™¨è‡ªåŠ¨å±•å¼€æ‰€æœ‰èœå•é¡¹
- ğŸ“Š **æ•°æ®å¯¹æ¯”**: å¯¹æ¯”é™æ€å’ŒåŠ¨æ€è·å–çš„é“¾æ¥æ•°é‡
- ğŸ”„ **å¢é‡æ›´æ–°**: å¤šè½®å±•å¼€ç­–ç•¥ç¡®ä¿è·å–æ‰€æœ‰åµŒå¥—èœå•
- ğŸ“ **ç»“æ„åŒ–è¾“å‡º**: ç”ŸæˆJSONæ ¼å¼çš„é“¾æ¥åˆ—è¡¨
- ğŸ“ **é¡µé¢æè¿°**: è‡ªåŠ¨è·å–æ¯ä¸ªé¡µé¢çš„meta description
- ğŸ” **æ™ºèƒ½æœç´¢**: æ”¯æŒåŸºäºæ ‡é¢˜ã€é“¾æ¥å’Œæè¿°çš„å…¨æ–‡æœç´¢åŠŸèƒ½

## æ–‡ä»¶ç»“æ„

```
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ fetch-nav.js         # åŠ¨æ€è·å–å¯¼èˆªç»“æ„
â”‚   â”œâ”€â”€ parse-nav.js         # è§£æHTMLå¹¶ç”ŸæˆJSON
â”‚   â””â”€â”€ fetch-descriptions.js # è·å–é¡µé¢æè¿°ä¿¡æ¯
â”œâ”€â”€ sources/
â”‚   â”œâ”€â”€ list.json            # ç”Ÿæˆçš„é“¾æ¥åˆ—è¡¨
â”‚   â””â”€â”€ descriptions.json    # é¡µé¢æè¿°æ•°æ®
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.ts             # MCPæœåŠ¡å™¨å®ç°
â”œâ”€â”€ dist/                    # ç¼–è¯‘åçš„JavaScriptæ–‡ä»¶
â”œâ”€â”€ build-docs.sh            # Linux/Macæ„å»ºè„šæœ¬
â”œâ”€â”€ build-docs.bat           # Windowsæ„å»ºè„šæœ¬
â”œâ”€â”€ nav.html                 # åŸå§‹é™æ€å¯¼èˆª(87ä¸ªé“¾æ¥)
â”œâ”€â”€ nav-dist.html            # åŠ¨æ€è·å–çš„å®Œæ•´å¯¼èˆª(2415ä¸ªé“¾æ¥)
â””â”€â”€ package.json             # é¡¹ç›®é…ç½®
```

## ä½¿ç”¨æ–¹æ³•

### å®‰è£…ä¾èµ–
```bash
npm install
```

### æ„å»ºæ–‡æ¡£æ•°æ®

æ‰‹åŠ¨åˆ†æ­¥æ‰§è¡Œ
```bash
npm run build-docs
```

### æ„å»ºé¡¹ç›®
```bash
npm run build
```

### è¿è¡ŒMCPæœåŠ¡å™¨
```bash
npm run dev
```

## MCPå·¥å…·åŠŸèƒ½

### get_docs_list

è·å–è™šå¹»å¼•æ“æ–‡æ¡£é“¾æ¥åˆ—è¡¨ï¼Œæ”¯æŒå¯é€‰çš„æ™ºèƒ½æœç´¢åŠŸèƒ½ã€‚

**å‚æ•°:**
- `search` (å¯é€‰): æœç´¢å…³é”®å­—ï¼Œç”¨äºè¿‡æ»¤æ ‡é¢˜ã€é“¾æ¥å’Œæè¿°

**è¿”å›æ•°æ®æ ¼å¼:**
```json
{
  "total": 2415,
  "search": "animation",
  "links": [
    {
      "title": "ç‰©ä½“å’Œè§’è‰²åŠ¨ç”»åˆ¶ä½œ",
      "link": "https://dev.epicgames.com/documentation/zh-cn/unreal-engine/animating-characters-and-objects-in-unreal-engine",
      "description": "å­¦ä¹ å¦‚ä½•åœ¨è™šå¹»å¼•æ“ä¸­åˆ›å»ºå’Œç®¡ç†è§’è‰²ä¸ç‰©ä½“çš„åŠ¨ç”»ç³»ç»Ÿã€‚"
    }
  ]
}
```

**ä½¿ç”¨ç¤ºä¾‹:**
- è·å–æ‰€æœ‰é“¾æ¥: `get_docs_list()`
- æœç´¢åŠ¨ç”»ç›¸å…³: `get_docs_list(search="åŠ¨ç”»")`
- æœç´¢è“å›¾ç›¸å…³: `get_docs_list(search="blueprint")`
- æœç´¢å®‰è£…æ•™ç¨‹: `get_docs_list(search="å®‰è£…")`
- åŸºäºæè¿°æœç´¢: `get_docs_list(search="æ–°åŠŸèƒ½")`

## æˆæœç»Ÿè®¡

- **åŸå§‹nav.htmlé“¾æ¥æ•°é‡**: 87ä¸ª
- **åŠ¨æ€nav-dist.htmlé“¾æ¥æ•°é‡**: 2415ä¸ª  
- **å¢åŠ çš„é“¾æ¥æ•°é‡**: 2328ä¸ª
- **å±•å¼€çš„èœå•é¡¹**: 492ä¸ª
- **å±•å¼€è½®æ¬¡**: 7è½®

## æŠ€æœ¯ç»†èŠ‚

### å±•å¼€ç­–ç•¥
è„šæœ¬ä½¿ç”¨å¤šè½®å±•å¼€ç­–ç•¥ï¼Œæ¯è½®æŸ¥æ‰¾æ‰€æœ‰æœªå±•å¼€çš„æŒ‰é’®å¹¶ç‚¹å‡»ï¼Œç›´åˆ°æ²¡æœ‰æ–°çš„å¯å±•å¼€é¡¹ä¸ºæ­¢ã€‚

### é€‰æ‹©å™¨ä¼˜åŒ–
```javascript
// æŸ¥æ‰¾æœªå±•å¼€çš„èœå•æŒ‰é’®
const expandButtons = await page.$$('.btn-expander .icon-arrow-forward-ios:not(.is-rotated)');
```

### æœç´¢å®ç°
æœç´¢åŠŸèƒ½åŸºäºæ ‡é¢˜ã€é“¾æ¥å’Œæè¿°å­—æ®µè¿›è¡Œå¤§å°å†™ä¸æ•æ„Ÿçš„å…¨æ–‡æœç´¢ï¼š
```typescript
filteredLinks = docLinks.filter(link => {
  const description = docDescriptions[link.link] || '';
  return (
    link.title.toLowerCase().includes(searchTerm) ||
    link.link.toLowerCase().includes(searchTerm) ||
    description.toLowerCase().includes(searchTerm)
  );
});
```

### é”™è¯¯å¤„ç†
- è‡ªåŠ¨é‡è¯•æœºåˆ¶
- æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸ
- DOMæ›´æ–°ç­‰å¾…
- å¼‚å¸¸æ•è·å’Œæ—¥å¿—è®°å½•

## ç”Ÿæˆçš„æ•°æ®æ ¼å¼

### list.json - é“¾æ¥åˆ—è¡¨
```json
{
  "total": 2415,
  "generated": "2025-06-12T17:34:05.387Z",
  "links": [
    {
      "title": "æ–°å†…å®¹",
      "link": "https://dev.epicgames.com/documentation/zh-cn/unreal-engine/whats-new"
    }
  ]
}
```

### descriptions.json - é¡µé¢æè¿°
```json
{
  "total": 2415,
  "generated": "2025-06-12T18:45:30.123Z",
  "success_count": 2380,
  "failed_count": 35,
  "descriptions": {
    "https://dev.epicgames.com/documentation/zh-cn/unreal-engine/whats-new": "äº†è§£è™šå¹»å¼•æ“5.6çš„æ–°åŠŸèƒ½å’Œæ”¹è¿›ã€‚",
    "https://dev.epicgames.com/documentation/zh-cn/unreal-engine/install-unreal-engine": "å­¦ä¹ å¦‚ä½•ä¸‹è½½å’Œå®‰è£…è™šå¹»å¼•æ“åˆ°æ‚¨çš„è®¡ç®—æœºä¸Šã€‚"
  }
}
```

## æ€§èƒ½æŒ‡æ ‡

- æµè§ˆå™¨å¯åŠ¨æ—¶é—´: ~2-3ç§’
- é¡µé¢åŠ è½½æ—¶é—´: ~5-10ç§’  
- å¯¼èˆªå±•å¼€æ—¶é—´: ~30-60ç§’
- æ•°æ®è§£ææ—¶é—´: ~1-2ç§’
- æ€»æ‰§è¡Œæ—¶é—´: ~40-80ç§’
- æœç´¢å“åº”æ—¶é—´: <100æ¯«ç§’

## æŠ€æœ¯æ ˆ

- **Node.js**: è¿è¡Œç¯å¢ƒ
- **TypeScript**: ç±»å‹å®‰å…¨çš„å¼€å‘
- **Puppeteer**: æ— å¤´æµè§ˆå™¨æ§åˆ¶
- **JSDOM**: HTMLè§£æ
- **MCP (Model Context Protocol)**: æœåŠ¡å™¨å®ç°
- **Zod**: å‚æ•°éªŒè¯
- **ES Modules**: æ¨¡å—åŒ–å¼€å‘

## æ³¨æ„äº‹é¡¹

1. éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥
2. ç¬¬ä¸€æ¬¡è¿è¡Œä¼šä¸‹è½½Chromiumæµè§ˆå™¨
3. è¿è¡Œæ—¶é—´å–å†³äºç½‘ç»œé€Ÿåº¦å’Œé¡µé¢å“åº”
4. å»ºè®®åœ¨ç¨³å®šçš„ç¯å¢ƒä¸­è¿è¡Œ
5. æœç´¢å…³é”®å­—æ”¯æŒä¸­è‹±æ–‡æ··åˆæŸ¥è¯¢

## åç»­ä¼˜åŒ–

- [ ] æ·»åŠ å¢é‡æ›´æ–°æœºåˆ¶
- [ ] æ”¯æŒå¤šè¯­è¨€ç‰ˆæœ¬
- [ ] æ·»åŠ ç¼“å­˜æœºåˆ¶
- [ ] é”™è¯¯é‡è¯•ç­–ç•¥ä¼˜åŒ–
- [ ] å¹¶å‘å¤„ç†ä¼˜åŒ–
- [ ] æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼æœç´¢

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ã€‚

## è®¸å¯è¯

MIT License 